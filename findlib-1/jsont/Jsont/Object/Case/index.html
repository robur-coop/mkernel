<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Case (docs.findlib-1.jsont.Jsont.Object.Case)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 3.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../../../../index.html">Index</a> &#x00BB; <a href="../../../../../index.html">docs</a> &#x00BB; <a href="../../../../index.html">findlib-1</a> &#x00BB; <a href="../../../index.html">jsont</a> &#x00BB; <a href="../../index.html">Jsont</a> &#x00BB; <a href="../index.html">Object</a> &#x00BB; Case</nav><header class="odoc-preamble"><h1>Module <code><span>Object.Case</span></code></h1><p>Case objects.</p><p>Case objects are used to describe objects whose members depend on the tag value of a distinguished case member. See an <span class="xref-unresolved" title="cookbook.cases">example</span>.</p></header><div class="odoc-tocs"><nav class="odoc-toc odoc-local-toc"><ul><li><a href="#maps">Maps</a></li><li><a href="#cases">Cases</a></li><li><a href="#case">Case values</a></li></ul></nav></div><div class="odoc-content"><h2 id="maps"><a href="#maps" class="anchor"></a>Maps</h2><div class="odoc-spec"><div class="spec type subst anchored" id="type-jsont"><a href="#type-jsont" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a jsont</span></span><span> := <span><span class="type-var">'a</span> <a href="../../index.html#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-map"><a href="#type-map" class="anchor"></a><code><span><span class="keyword">type</span> <span>('cases, 'case, 'tag) map</span></span></code></div><div class="spec-doc"><p>The type for mapping a case object represented by <code>'case</code> belonging to a common type represented by <code>'cases</code> depending on the value of a case member of type <code>'tag</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-map"><a href="#val-map" class="anchor"></a><code><span><span class="keyword">val</span> map : 
  <span><span class="optlabel">?dec</span>:<span>(<span><span class="type-var">'case</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'cases</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'tag</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'case</span> <a href="#type-jsont">jsont</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span class="type-var">'cases</span>, <span class="type-var">'case</span>, <span class="type-var">'tag</span>)</span> <a href="#type-map">map</a></span></span></code></div><div class="spec-doc"><p><code>map ~dec v obj</code> defines the object map <code>obj</code> as being the case for the tag value <code>v</code> of the case member. <code>dec</code> indicates how to inject the object case into the type common to all cases.</p><p>Raises <code>Invalid_argument</code> if <code>obj</code> is not a direct result of <a href="../index.html#val-finish"><code>finish</code></a>, that is if <code>obj</code> does not describe an object.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-map_tag"><a href="#val-map_tag" class="anchor"></a><code><span><span class="keyword">val</span> map_tag : <span><span><span>(<span class="type-var">'cases</span>, <span class="type-var">'case</span>, <span class="type-var">'tag</span>)</span> <a href="#type-map">map</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'tag</span></span></code></div><div class="spec-doc"><p><code>map_tag m</code> is <code>m</code>'s tag.</p></div></div><h2 id="cases"><a href="#cases" class="anchor"></a>Cases</h2><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>('cases, 'tag) t</span></span></code></div><div class="spec-doc"><p>The type for a case of the type <code>'cases</code>. This is <a href="#type-map"><code>map</code></a> with its <code>'case</code> representation hidden.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make"><a href="#val-make" class="anchor"></a><code><span><span class="keyword">val</span> make : <span><span><span>(<span class="type-var">'cases</span>, <span class="type-var">'case</span>, <span class="type-var">'tag</span>)</span> <a href="#type-map">map</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'cases</span>, <span class="type-var">'tag</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>make map</code> is <code>map</code> as a case.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-tag"><a href="#val-tag" class="anchor"></a><code><span><span class="keyword">val</span> tag : <span><span><span>(<span class="type-var">'cases</span>, <span class="type-var">'tag</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'tag</span></span></code></div><div class="spec-doc"><p><code>tag c</code> is the tag of <code>c</code>.</p></div></div><h2 id="case"><a href="#case" class="anchor"></a>Case values</h2><div class="odoc-spec"><div class="spec type anchored" id="type-value"><a href="#type-value" class="anchor"></a><code><span><span class="keyword">type</span> <span>('cases, 'tag) value</span></span></code></div><div class="spec-doc"><p>The type for case values. This holds a case value and its case map <a href="#type-map"><code>map</code></a>. Use <a href="#val-value"><code>value</code></a> to construct them.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-value"><a href="#val-value" class="anchor"></a><code><span><span class="keyword">val</span> value : <span><span><span>(<span class="type-var">'cases</span>, <span class="type-var">'case</span>, <span class="type-var">'tag</span>)</span> <a href="#type-map">map</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'case</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'cases</span>, <span class="type-var">'tag</span>)</span> <a href="#type-value">value</a></span></span></code></div><div class="spec-doc"><p><code>value map v</code> is a case value <code>v</code> described by <code>map</code>.</p></div></div></div></body></html>
