<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Error (docs.findlib-1.jsont.Jsont.Error)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 3.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../../../../../index.html">Index</a> &#x00BB; <a href="../../../../index.html">docs</a> &#x00BB; <a href="../../../index.html">findlib-1</a> &#x00BB; <a href="../../index.html">jsont</a> &#x00BB; <a href="../index.html">Jsont</a> &#x00BB; Error</nav><header class="odoc-preamble"><h1>Module <code><span>Jsont.Error</span></code></h1><p>Encoding, decoding and query errors.</p></header><div class="odoc-tocs"><nav class="odoc-toc odoc-local-toc"><ul><li><a href="#kinds">Kinds of errors</a></li><li><a href="#errors">Errors</a></li><li><a href="#fmt">Formatting</a></li></ul></nav></div><div class="odoc-content"><h2 id="kinds"><a href="#kinds" class="anchor"></a>Kinds of errors</h2><div class="odoc-spec"><div class="spec type anchored" id="type-kind"><a href="#type-kind" class="anchor"></a><code><span><span class="keyword">type</span> kind</span></code></div><div class="spec-doc"><p>The type for kind of errors.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-kind_to_string"><a href="#val-kind_to_string" class="anchor"></a><code><span><span class="keyword">val</span> kind_to_string : <span><a href="#type-kind">kind</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>kind_to_string kind</code> is <code>kind</code> as a string.</p></div></div><h2 id="errors"><a href="#errors" class="anchor"></a>Errors</h2><div class="odoc-spec"><div class="spec module anchored" id="module-Context"><a href="#module-Context" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Context/index.html">Context</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>JSON error contexts.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span><span> = <a href="Context/index.html#type-t">Context.t</a> * <a href="../Meta/index.html#type-t">Meta.t</a> * <a href="#type-kind">kind</a></span></code></div><div class="spec-doc"><p>The type for errors. The context, the error localisation and the kind of error.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-raise"><a href="#val-raise" class="anchor"></a><code><span><span class="keyword">val</span> raise : <span><a href="Context/index.html#type-t">Context.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Meta/index.html#type-t">Meta.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-kind">kind</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>raise ctx meta k</code> raises an error with given paramters.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make_msg"><a href="#val-make_msg" class="anchor"></a><code><span><span class="keyword">val</span> make_msg : <span><a href="Context/index.html#type-t">Context.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Meta/index.html#type-t">Meta.t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>make_msg ctx meta msg</code> is an error with message <code>msg</code> for meta <code>meta</code> in context <code>ctx</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-msg"><a href="#val-msg" class="anchor"></a><code><span><span class="keyword">val</span> msg : <span><a href="../Meta/index.html#type-t">Meta.t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>msg meta msg</code> raises an error with message <code>msg</code> for meta <code>meta</code> in an empty context.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-msgf"><a href="#val-msgf" class="anchor"></a><code><span><span class="keyword">val</span> msgf : <span><a href="../Meta/index.html#type-t">Meta.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <a href="../../../../stdlib/Stdlib/Format/index.html#type-formatter">Format.formatter</a>, unit, <span class="type-var">'b</span>)</span> <a href="../../../../stdlib/Stdlib/index.html#type-format4">format4</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>msgf meta fmt …</code> is like <a href="#val-msg"><code>msg</code></a> but formats an error message.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-expected"><a href="#val-expected" class="anchor"></a><code><span><span class="keyword">val</span> expected : <span><a href="../Meta/index.html#type-t">Meta.t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><span class="label">fnd</span>:string <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>expected meta fmt exp ~fnd</code> is <code>msgf &quot;Expected %s but found %s&quot; exp fnd</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-push_array"><a href="#val-push_array" class="anchor"></a><code><span><span class="keyword">val</span> push_array : <span><span>string <a href="../index.html#type-node">node</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>int <a href="../index.html#type-node">node</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>push_array kinded_sort n e</code> contextualises <code>e</code> as an error in the <code>n</code>th element of an array of <a href="../index.html#val-kinded_sort" title="Jsont.kinded_sort">kinded sort</a> <code>kinded_sort</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-push_object"><a href="#val-push_object" class="anchor"></a><code><span><span class="keyword">val</span> push_object : <span><span>string <a href="../index.html#type-node">node</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>string <a href="../index.html#type-node">node</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>push_object kinded_sort n e</code> contextualises <code>e</code> as an error in the member <code>n</code> of an object of <a href="../index.html#val-kinded_sort" title="Jsont.kinded_sort">kinded sort</a> <code>kinded_sort</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-adjust_context"><a href="#val-adjust_context" class="anchor"></a><code><span><span class="keyword">val</span> adjust_context : 
  <span><span class="label">first_byte</span>:<a href="../Textloc/index.html#type-byte_pos">Textloc.byte_pos</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">first_line</span>:<a href="../Textloc/index.html#type-line_pos">Textloc.line_pos</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>adjust_context ~first_byte ~first_line</code> adjusts the error's context's meta to encompass the given positions.</p></div></div><h2 id="fmt"><a href="#fmt" class="anchor"></a>Formatting</h2><div class="odoc-spec"><div class="spec value anchored" id="val-to_string"><a href="#val-to_string" class="anchor"></a><code><span><span class="keyword">val</span> to_string : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>error_to_string e</code> formats <code>e</code> using <a href="#val-pp"><code>pp</code></a> to a string.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp"><a href="#val-pp" class="anchor"></a><code><span><span class="keyword">val</span> pp : <span><a href="#type-t">t</a> <a href="../index.html#type-fmt">fmt</a></span></span></code></div><div class="spec-doc"><p><code>pp_error</code> formats errors.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-puterr"><a href="#val-puterr" class="anchor"></a><code><span><span class="keyword">val</span> puterr : <span>unit <a href="../index.html#type-fmt">fmt</a></span></span></code></div><div class="spec-doc"><p><code>puterr</code> formats <code>Error:</code> in red.</p></div></div></div></body></html>
